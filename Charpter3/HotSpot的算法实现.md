# HotSpot的算法实现
## 枚举根节点
&emsp;&emsp;目前的主流Java虚拟机使用的都是准确式GC，所以当执行系统停顿下来后，并不需要一个不漏地检查完所有执行上下文和全局的引用位置，虚拟机应当是
有办法直接得知哪些地方存放着对象引用。在HotSpot的实现中，使用一组称为OopMap的数据结构来达到这个目的的，在类加载完成后，HotSpot就把对象内什么偏移量
上是什么类型的数据计算出来，在JIT编译过程中，也会在特定的位置记录下栈和寄存器中哪些位置是引用。这样GC在扫描时就可以直接得知这些信息了。

## 安全点
&emsp;&emsp;在OopMap的协助下，HotSpot可以快速且准确地完成GC Roots枚举。

&emsp;&emsp;HotSpot没有为每条指令都生成OopMap,只是在“特定的位置”记录了这些信息，这些位置称为安全点，即程序执行时并非在所有地方都能停顿下来开始GC，
只有在到达安全点时才能暂停。
